## **Steps to Create a New User in Oracle 21c XE**

### 1️⃣ Connect to the Pluggable Database (PDB)

By default, 21c XE has:

* **CDB** → `XEPDB1` (Pluggable Database)
* **CDB\$ROOT** (Container Database root)

If you run `CREATE USER` in **CDB\$ROOT**, you’ll get:

```
ORA-65096: invalid common user or role name
```

So you need to connect to your **PDB**:

```sql
sqlplus sys as sysdba
```

Then:

```sql
ALTER SESSION SET CONTAINER = XEPDB1;
```

---

### 2️⃣ Create the User

```sql
CREATE USER myuser IDENTIFIED BY mypassword;
```

> Replace `myuser` and `mypassword` with your desired username and password.

---

### 3️⃣ Grant Required Privileges

At minimum:

```sql
GRANT CREATE SESSION TO myuser; -- Allows login
GRANT CREATE TABLE TO myuser;   -- Allows creating tables
GRANT UNLIMITED TABLESPACE TO myuser; -- Avoids quota issues
```

If you want full DBA access (be careful in production):

```sql
GRANT DBA TO myuser;
```

---

### 4️⃣ Test Login

Exit SQL\*Plus:

```sql
EXIT;
```

Then log in:

```bash
sqlplus myuser/mypassword@localhost/XEPDB1
```

---

✅ **Quick Recap**:

1. Always connect to **PDB** (`ALTER SESSION SET CONTAINER = XEPDB1;`)
2. `CREATE USER` in PDB
3. Grant privileges
4. Test login

---

If you want to see **all usernames** in the database, you can query the **`ALL_USERS`** or **`DBA_USERS`** view.

---

### **1️⃣ See all usernames you can access**

```sql
SELECT username
FROM all_users
ORDER BY username;
```

**Output example:**

```
USERNAME
------------------------------
ANONYMOUS
APPQOSSYS
HR
SYSTEM
SYS
```

---

### **2️⃣ See all usernames in the database** *(requires DBA privileges)*

```sql
SELECT username
FROM dba_users
ORDER BY username;
```

---

### **3️⃣ See the currently connected schema/user**

```sql
SHOW USER;
```

or

```sql
SELECT USER FROM dual;
```

---

✅ **Tip:** If you want to see all objects in your current schema:

```sql
SELECT object_name, object_type
FROM user_objects;
```

---

In **Oracle 21c XE**, you can drop a user with this syntax:

---

## **Syntax**

```sql
DROP USER username CASCADE;
```

---

### **Explanation**

* `username` → The Oracle username you created.
* `CASCADE` → Required if the user owns any objects (tables, views, sequences, etc.).
  Without `CASCADE`, Oracle won’t allow the drop if objects exist.

---

### **Example**

```sql
-- Drop a user named TESTUSER along with all its objects
DROP USER testuser CASCADE;
```

---

### **Important Notes**

1. You **must** be logged in as a DBA user (like `SYS` or `SYSTEM`) with `DROP USER` privilege.
2. **Cannot drop the currently connected user** — log in as another user first.
3. Once dropped, **all data owned by that user is permanently deleted**.

---